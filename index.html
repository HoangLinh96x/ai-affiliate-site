<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top Affiliate Programs - Affitor</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FFFFFF; }
        .category-scroll { scrollbar-width: none; }
        .category-scroll::-webkit-scrollbar { display: none; }
        .transition-all-smooth { transition: all 0.3s ease-in-out; }
        .no-results-row td { text-align: center; padding: 2rem; color: #6B7280; }
    </style>
</head>
<body class="text-gray-800">

    <!-- =========== Header =========== -->
    <header class="bg-white/80 backdrop-blur-lg border-b border-gray-200 sticky top-0 z-40">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-8">
                    <a href="#" class="text-2xl font-bold text-gray-900">Affitor</a>
                    <nav class="hidden md:flex items-center space-x-6 text-sm font-medium">
                        <a href="#" class="text-gray-600 hover:text-gray-900">Home</a>
                        <a href="#" class="text-gray-600 hover:text-gray-900">Top Videos</a>
                        <a href="#" class="text-gray-600 hover:text-gray-900">Affitor Hunt</a>
                        <a href="#" class="text-gray-600 hover:text-gray-900">Pricing</a>
                    </nav>
                </div>
                <div class="hidden lg:flex flex-1 justify-center px-8">
                    <div class="w-full max-w-md relative">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><i data-lucide="search" class="w-5 h-5 text-gray-400"></i></div>
                        <input id="search-input" type="search" placeholder="Search Programs..." class="block w-full rounded-md border border-gray-300 bg-white py-2 pl-10 pr-3 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500">
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="https://discord.gg/m9wEa7jV2v" target="_blank" class="hidden sm:block px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700">Community</a>
                    <a href="https://app.affitor.com/login" target="_blank" class="hidden sm:block text-sm font-medium text-gray-600 hover:text-gray-900">Profile</a>
                    <button id="mobile-menu-button" class="md:hidden text-gray-600"><i data-lucide="menu" class="w-6 h-6"></i></button>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <nav class="flex flex-col space-y-2 mt-4">
                    <a href="#" class="block py-2 px-3 rounded-md text-gray-600 hover:bg-gray-100">Home</a>
                    <a href="#" class="block py-2 px-3 rounded-md text-gray-600 hover:bg-gray-100">Top Videos</a>
                    <a href="#" class="block py-2 px-3 rounded-md text-gray-600 hover:bg-gray-100">Affitor Hunt</a>
                    <a href="#" class="block py-2 px-3 rounded-md text-gray-600 hover:bg-gray-100">Pricing</a>
                    <a href="https://app.affitor.com/login" target="_blank" class="block py-2 px-3 rounded-md text-gray-600 hover:bg-gray-100">Profile</a>
                    <a href="https://discord.gg/m9wEa7jV2v" target="_blank" class="block text-center mt-2 px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700">Community</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- =========== Main Content =========== -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-6">Top Affiliate Programs Curated by Us</h1>

        <!-- =========== Filters Section =========== -->
        <div class="bg-white p-6 rounded-lg border border-gray-200 mb-8">
            <div id="filters-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div>
                    <label for="filter-commission" class="block text-sm font-medium text-gray-700 mb-1">Commission (%)</label>
                    <select id="filter-commission" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <option value="0">Any</option><option value="10">10%+</option><option value="20">20%+</option><option value="30">30%+</option><option value="40">40%+</option><option value="50">50%+</option>
                    </select>
                </div>
                <div>
                    <label for="filter-recurring" class="block text-sm font-medium text-gray-700 mb-1">Recurring</label>
                    <select id="filter-recurring" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <option value="Any">Select recurring type...</option><option value="Yes">Yes</option><option value="No">No</option>
                    </select>
                </div>
                <div>
                    <label for="filter-traffic" class="block text-sm font-medium text-gray-700 mb-1">Monthly Traffic</label>
                    <select id="filter-traffic" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <option value="0">Any</option><option value="1000000">1M+</option><option value="5000000">5M+</option><option value="10000000">10M+</option>
                    </select>
                </div>
                <div>
                    <label for="filter-country" class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                    <select id="filter-country" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <option value="Any">Any</option><option value="United States (US)">United States</option><option value="China (CN)">China</option><option value="Sweden (SE)">Sweden</option><option value="United Kingdom (GB)">United Kingdom</option>
                    </select>
                </div>
            </div>
            <div class="mt-6 flex items-center justify-between">
                <button class="flex items-center space-x-2 text-sm font-medium text-blue-600 hover:text-blue-800"><i data-lucide="plus-circle" class="w-4 h-4"></i><span>Show Advanced Filters</span></button>
                <div class="flex items-center space-x-3">
                    <button id="apply-filters-btn" class="px-6 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700">Apply Filters</button>
                    <button id="clear-filters-btn" class="px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">Clear All</button>
                </div>
            </div>
        </div>

        <!-- =========== Table Section =========== -->
        <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
            <div class="p-4 border-b border-gray-200">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                    <div class="flex items-center gap-2"><button class="trending-btn active flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-700 bg-blue-100 rounded-md"><i data-lucide="trending-up" class="w-4 h-4"></i><span>Trending</span></button><button class="trending-btn flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-md"><i data-lucide="calendar" class="w-4 h-4"></i><span>Weekly</span></button></div>
                    <button class="flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100"><i data-lucide="columns" class="w-4 h-4"></i><span>Customize Columns</span></button>
                </div>
                <div class="mt-4 relative flex items-center">
                    <button id="scroll-left" class="absolute -left-1 z-10 bg-white border rounded-full p-1 shadow-sm opacity-0 transition-opacity-smooth pointer-events-none"><i data-lucide="chevron-left" class="w-5 h-5 text-gray-600"></i></button>
                    <div id="category-container" class="overflow-x-auto category-scroll">
                        <div id="category-list" class="flex items-center space-x-2 whitespace-nowrap">
                            <!-- Danh mục sẽ được chèn vào đây bằng JavaScript -->
                        </div>
                    </div>
                     <button id="scroll-right" class="absolute -right-1 z-10 bg-white border rounded-full p-1 shadow-sm transition-opacity-smooth"><i data-lucide="chevron-right" class="w-5 h-5 text-gray-600"></i></button>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">EPU</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Commission</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider flex items-center gap-1">Monthly Traffic <i data-lucide="arrow-down" class="w-3 h-3"></i></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Recurring</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pricing</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Launch Year</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Country</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
                        </tr>
                    </thead>
                    <tbody id="table-body" class="bg-white divide-y divide-gray-200"></tbody>
                </table>
            </div>
        </div>
    </main>

    <div class="fixed bottom-8 right-8"><button class="bg-gray-900 text-white px-4 py-3 rounded-full shadow-lg flex items-center gap-2 hover:bg-gray-800"><i data-lucide="sparkles" class="w-5 h-5"></i><span class="font-semibold text-sm">Affitor AI</span></button></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const programsData = [
                { name: 'Notion AI', category: 'AI Productivity', logo: 'https://logo.clearbit.com/notion.so', epu: '$10.0', commission: 50, traffic: 180000000, recurring: 'Yes', pricing: '$8', launchYear: 2023, country: 'United States (US)', link: 'https://www.notion.so/product/ai' },
                { name: 'Jasper', category: 'AI Writing', logo: 'https://logo.clearbit.com/jasper.ai', epu: '$82.0', commission: 30, traffic: 7500000, recurring: 'Yes', pricing: '$39 - $99', launchYear: 2021, country: 'United States (US)', link: 'https://www.jasper.ai/' },
                { name: 'Copy.ai', category: 'AI Writing', logo: 'https://logo.clearbit.com/copy.ai', epu: '$25.0', commission: 45, traffic: 15000000, recurring: 'Yes', pricing: '$36 - $122', launchYear: 2020, country: 'United States (US)', link: 'https://www.copy.ai/' },
                { name: 'Synthesia', category: 'AI Video', logo: 'https://logo.clearbit.com/synthesia.io', epu: '$120.0', commission: 20, traffic: 8000000, recurring: 'Yes', pricing: '$22 - $500', launchYear: 2017, country: 'United States (US)', link: 'https://www.synthesia.io/' },
                { name: 'Murf.ai', category: 'AI Voice', logo: 'https://logo.clearbit.com/murf.ai', epu: '$29.0', commission: 20, traffic: 3000000, recurring: 'Yes', pricing: '$19 - $99', launchYear: 2020, country: 'United Kingdom (GB)', link: 'https://murf.ai/' },
                { name: 'Writesonic', category: 'AI Writing', logo: 'https://logo.clearbit.com/writesonic.com', epu: '$20.0', commission: 30, traffic: 9000000, recurring: 'Yes', pricing: '$13 - $500', launchYear: 2021, country: 'United States (US)', link: 'https://writesonic.com/' },
                { name: 'Pictory', category: 'AI Video', logo: 'https://logo.clearbit.com/pictory.ai', epu: '$39.0', commission: 50, traffic: 2000000, recurring: 'Yes', pricing: '$19 - $99', launchYear: 2020, country: 'United States (US)', link: 'https://pictory.ai/' },
                { name: 'AdCreative.ai', category: 'AI Ads', logo: 'https://logo.clearbit.com/adcreative.ai', epu: '$100.0', commission: 30, traffic: 1000000, recurring: 'Yes', pricing: '$21 - $141', launchYear: 2021, country: 'France (FR)', link: 'https://www.adcreative.ai/' },
                { name: 'Durable', category: 'AI Website Builder', logo: 'https://logo.clearbit.com/durable.co', epu: '$12.0', commission: 25, traffic: 2500000, recurring: 'Yes', pricing: '$12 - $20', launchYear: 2022, country: 'Canada (CA)', link: 'https://durable.co/' },
                { name: 'ClickUp', category: 'AI Productivity', logo: 'https://logo.clearbit.com/clickup.com', epu: '$7.0', commission: 20, traffic: 15000000, recurring: 'Yes', pricing: '$7 - $12', launchYear: 2017, country: 'United States (US)', link: 'https://clickup.com/' },
                { name: 'Grammarly', category: 'AI Writing', logo: 'https://logo.clearbit.com/grammarly.com', epu: '$20.0', commission: 20, traffic: 60000000, recurring: 'Yes', pricing: '$12 - $30', launchYear: 2009, country: 'United States (US)', link: 'https://www.grammarly.com/' },
                { name: 'Canva', category: 'AI Design', logo: 'https://logo.clearbit.com/canva.com', epu: '$12.99', commission: 15, traffic: 450000000, recurring: 'Yes', pricing: '$12.99', launchYear: 2013, country: 'Australia (AU)', link: 'https://www.canva.com/' },
                { name: 'DeepL', category: 'AI Translation', logo: 'https://logo.clearbit.com/deepl.com', epu: '$8.74', commission: 30, traffic: 270000000, recurring: 'Yes', pricing: '$8.74 - $57.49', launchYear: 2017, country: 'Germany (DE)', link: 'https://www.deepl.com/' },
                { name: 'Figma', category: 'AI Design', logo: 'https://logo.clearbit.com/figma.com', epu: 'N/A', commission: 0, traffic: 80000000, recurring: 'No', pricing: 'Free - $45', launchYear: 2016, country: 'United States (US)', link: 'https://www.figma.com/' },
                { name: 'Runway', category: 'AI Video', logo: 'https://logo.clearbit.com/runwayml.com', epu: '$35.0', commission: 25, traffic: 6000000, recurring: 'Yes', pricing: '$12 - $76', launchYear: 2018, country: 'United States (US)', link: 'https://runwayml.com/' },
                { name: 'Tome', category: 'AI Presentation', logo: 'https://logo.clearbit.com/tome.app', epu: '$16.0', commission: 50, traffic: 12000000, recurring: 'Yes', pricing: '$8', launchYear: 2022, country: 'United States (US)', link: 'https://tome.app/' },
                { name: 'Descript', category: 'AI Audio', logo: 'https://logo.clearbit.com/descript.com', epu: '$24.0', commission: 30, traffic: 4500000, recurring: 'Yes', pricing: '$12 - $24', launchYear: 2017, country: 'United States (US)', link: 'https://www.descript.com/' },
                { name: 'Midjourney', category: 'AI Image', logo: 'https://logo.clearbit.com/midjourney.com', epu: 'N/A', commission: 0, traffic: 50000000, recurring: 'No', pricing: '$10 - $120', launchYear: 2022, country: 'United States (US)', link: 'https://www.midjourney.com/' },
                { name: 'ElevenLabs', category: 'AI Audio', logo: 'https://logo.clearbit.com/elevenlabs.io', epu: '$136.18', commission: 22, traffic: 25400000, recurring: 'Yes', pricing: '$4.17 - $99', launchYear: 2022, country: 'United States (US)', link: 'https://elevenlabs.io/' },
                { name: 'CapCut', category: 'AI Video', logo: 'https://logo.clearbit.com/capcut.com', epu: '$49.5', commission: 30, traffic: 42900000, recurring: 'Yes', pricing: '$9.99', launchYear: 2019, country: 'China (CN)', link: 'https://www.capcut.com/' },
                { name: 'Gamma', category: 'AI Presentation', logo: 'https://logo.clearbit.com/gamma.app', epu: '$50.4', commission: 30, traffic: 22800000, recurring: 'Yes', pricing: '$8 - $20', launchYear: 2020, country: 'United States (US)', link: 'https://gamma.app/' },
                { name: 'Lovable', category: 'AI No-Code/Low-Code', logo: 'https://logo.clearbit.com/lovable.ai', epu: '$16.5', commission: 10, traffic: 35400000, recurring: 'Yes', pricing: '$25 - $30', launchYear: 2023, country: 'Sweden (SE)', link: 'https://www.lovable.ai/' },
                { name: 'Vidyo.ai', category: 'AI Video', logo: 'https://logo.clearbit.com/vidyo.ai', epu: '$29.99', commission: 25, traffic: 1500000, recurring: 'Yes', pricing: '$15 - $30', launchYear: 2021, country: 'United States (US)', link: 'https://vidyo.ai/' },
                { name: 'Surfer SEO', category: 'AI SEO', logo: 'https://logo.clearbit.com/surferseo.com', epu: '$89.0', commission: 25, traffic: 1200000, recurring: 'Yes', pricing: '$59 - $299', launchYear: 2017, country: 'Poland (PL)', link: 'https://surferseo.com/' },
                { name: 'Podcastle', category: 'AI Audio', logo: 'https://logo.clearbit.com/podcastle.ai', epu: '$11.99', commission: 25, traffic: 1000000, recurring: 'Yes', pricing: '$11.99 - $23.99', launchYear: 2020, country: 'United States (US)', link: 'https://podcastle.ai/' },
                { name: 'Taskade', category: 'AI Productivity', logo: 'https://logo.clearbit.com/taskade.com', epu: '$5.0', commission: 30, traffic: 800000, recurring: 'Yes', pricing: '$4 - $8', launchYear: 2017, country: 'United States (US)', link: 'https://www.taskade.com/' },
                { name: 'Anyword', category: 'AI Writing', logo: 'https://logo.clearbit.com/anyword.com', epu: '$39.0', commission: 20, traffic: 700000, recurring: 'Yes', pricing: '$39 - $99', launchYear: 2021, country: 'United States (US)', link: 'https://anyword.com/' },
                { name: 'Looka', category: 'AI Design', logo: 'https://logo.clearbit.com/looka.com', epu: '$20.0', commission: 20, traffic: 2000000, recurring: 'No', pricing: '$20 - $65', launchYear: 2016, country: 'Canada (CA)', link: 'https://looka.com/' },
                { name: 'Rytr', category: 'AI Writing', logo: 'https://logo.clearbit.com/rytr.me', epu: '$9.0', commission: 20, traffic: 3000000, recurring: 'Yes', pricing: '$9 - $29', launchYear: 2021, country: 'United States (US)', link: 'https://rytr.me/' },
                { name: 'Artlist', category: 'AI Music', logo: 'https://logo.clearbit.com/artlist.io', epu: '$16.60', commission: 25, traffic: 2500000, recurring: 'Yes', pricing: '$9.99 - $16.60', launchYear: 2016, country: 'Israel (IL)', link: 'https://artlist.io/' },
                { name: 'Soundraw', category: 'AI Music', logo: 'https://logo.clearbit.com/soundraw.io', epu: '$16.99', commission: 20, traffic: 600000, recurring: 'Yes', pricing: '$16.99', launchYear: 2020, country: 'Japan (JP)', link: 'https://soundraw.io/' },
                { name: 'Lovo.ai', category: 'AI Voice', logo: 'https://logo.clearbit.com/lovo.ai', epu: '$24.0', commission: 20, traffic: 1000000, recurring: 'Yes', pricing: '$24 - $75', launchYear: 2019, country: 'United States (US)', link: 'https://lovo.ai/' },
                { name: 'Play.ht', category: 'AI Voice', logo: 'https://logo.clearbit.com/play.ht', epu: '$31.20', commission: 30, traffic: 1200000, recurring: 'Yes', pricing: '$31.20 - $79.20', launchYear: 2018, country: 'United States (US)', link: 'https://play.ht/' },
                { name: 'Fliki', category: 'AI Video', logo: 'https://logo.clearbit.com/fliki.ai', epu: '$21.0', commission: 30, traffic: 1800000, recurring: 'Yes', pricing: '$21 - $66', launchYear: 2021, country: 'United States (US)', link: 'https://fliki.ai/' },
                { name: 'InVideo', category: 'AI Video', logo: 'https://logo.clearbit.com/invideo.io', epu: '$30.0', commission: 50, traffic: 5000000, recurring: 'Yes', pricing: '$15 - $30', launchYear: 2017, country: 'United States (US)', link: 'https://invideo.io/' },
                { name: 'Semrush', category: 'AI SEO', logo: 'https://logo.clearbit.com/semrush.com', epu: '$200.0', commission: 40, traffic: 10000000, recurring: 'Yes', pricing: '$119.95 - $449.95', launchYear: 2008, country: 'United States (US)', link: 'https://www.semrush.com/' },
                { name: 'TubeBuddy', category: 'AI Productivity', logo: 'https://logo.clearbit.com/tubebuddy.com', epu: '$4.50', commission: 30, traffic: 3000000, recurring: 'Yes', pricing: '$4.50 - $24.50', launchYear: 2014, country: 'United States (US)', link: 'https://www.tubebuddy.com/' },
                { name: 'VidIQ', category: 'AI Productivity', logo: 'https://logo.clearbit.com/vidiq.com', epu: '$7.50', commission: 25, traffic: 4000000, recurring: 'Yes', pricing: '$7.50 - $79', launchYear: 2013, country: 'United States (US)', link: 'https://vidiq.com/' },
                { name: 'Shopify', category: 'E-commerce', logo: 'https://logo.clearbit.com/shopify.com', epu: '$58.0', commission: 20, traffic: 70000000, recurring: 'Yes', pricing: '$29 - $299', launchYear: 2006, country: 'Canada (CA)', link: 'https://www.shopify.com/' },
                { name: 'Wix', category: 'AI Website Builder', logo: 'https://logo.clearbit.com/wix.com', epu: '$100.0', commission: 0, traffic: 50000000, recurring: 'No', pricing: '$16 - $45', launchYear: 2006, country: 'Israel (IL)', link: 'https://www.wix.com/' },
                { name: 'Webflow', category: 'AI Website Builder', logo: 'https://logo.clearbit.com/webflow.com', epu: '$24.0', commission: 50, traffic: 18000000, recurring: 'Yes', pricing: '$14 - $39', launchYear: 2013, country: 'United States (US)', link: 'https://webflow.com/' },
                { name: 'Kajabi', category: 'E-commerce', logo: 'https://logo.clearbit.com/kajabi.com', epu: '$119.0', commission: 30, traffic: 5000000, recurring: 'Yes', pricing: '$119 - $319', launchYear: 2010, country: 'United States (US)', link: 'https://kajabi.com/' },
                { name: 'Teachable', category: 'E-commerce', logo: 'https://logo.clearbit.com/teachable.com', epu: '$39.0', commission: 30, traffic: 3000000, recurring: 'Yes', pricing: '$39 - $119', launchYear: 2014, country: 'United States (US)', link: 'https://teachable.com/' },
                { name: 'Podia', category: 'E-commerce', logo: 'https://logo.clearbit.com/podia.com', epu: '$39.0', commission: 30, traffic: 1500000, recurring: 'Yes', pricing: '$39 - $89', launchYear: 2014, country: 'United States (US)', link: 'https://www.podia.com/' },
                { name: 'MailerLite', category: 'E-mail Marketing', logo: 'https://logo.clearbit.com/mailerlite.com', epu: '$29.0', commission: 30, traffic: 4000000, recurring: 'Yes', pricing: '$9 - $19', launchYear: 2010, country: 'Lithuania (LT)', link: 'https://www.mailerlite.com/' },
                { name: 'ConvertKit', category: 'E-mail Marketing', logo: 'https://logo.clearbit.com/convertkit.com', epu: '$29.0', commission: 30, traffic: 3000000, recurring: 'Yes', pricing: '$9 - $25', launchYear: 2013, country: 'United States (US)', link: 'https://convertkit.com/' },
                { name: 'GetResponse', category: 'E-mail Marketing', logo: 'https://logo.clearbit.com/getresponse.com', epu: '$15.0', commission: 33, traffic: 7000000, recurring: 'Yes', pricing: '$15 - $99', launchYear: 1998, country: 'Poland (PL)', link: 'https://www.getresponse.com/' },
                { name: 'ActiveCampaign', category: 'E-mail Marketing', logo: 'https://logo.clearbit.com/activecampaign.com', epu: '$29.0', commission: 30, traffic: 6000000, recurring: 'Yes', pricing: '$29 - $229', launchYear: 2003, country: 'United States (US)', link: 'https://www.activecampaign.com/' }
            ];

            const tableBody = document.getElementById('table-body');
            const searchInput = document.getElementById('search-input');
            const applyFiltersBtn = document.getElementById('apply-filters-btn');
            const clearFiltersBtn = document.getElementById('clear-filters-btn');
            const categoryListContainer = document.getElementById('category-list');
            const filterInputs = {
                commission: document.getElementById('filter-commission'),
                recurring: document.getElementById('filter-recurring'),
                traffic: document.getElementById('filter-traffic'),
                country: document.getElementById('filter-country')
            };

            function renderCategories() {
                const categories = ['All', ...new Set(programsData.map(p => p.category))].sort();
                categoryListContainer.innerHTML = '';
                categories.forEach(cat => {
                    const isActive = cat === 'All';
                    const link = document.createElement('a');
                    link.href = '#';
                    link.dataset.category = cat;
                    link.className = `category-link px-3 py-1 text-sm font-medium rounded-full ${isActive ? 'active text-white bg-gray-800' : 'text-gray-600 hover:bg-gray-200'}`;
                    link.textContent = cat;
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const currentActive = categoryListContainer.querySelector('.active');
                        if (currentActive) {
                            currentActive.classList.remove('active', 'text-white', 'bg-gray-800');
                            currentActive.classList.add('text-gray-600', 'hover:bg-gray-200');
                        }
                        link.classList.add('active', 'text-white', 'bg-gray-800');
                        link.classList.remove('text-gray-600', 'hover:bg-gray-200');
                        filterAndSearch();
                    });
                    categoryListContainer.appendChild(link);
                });
            }

            function renderTable(programs) {
                tableBody.innerHTML = '';
                if (programs.length === 0) {
                    tableBody.innerHTML = `<tr class="no-results-row"><td colspan="9">No matching programs found.</td></tr>`;
                    return;
                }
                // Sắp xếp theo traffic giảm dần
                programs.sort((a, b) => b.traffic - a.traffic);
                
                programs.forEach(p => {
                    const placeholder = `https://placehold.co/40x40/E5E7EB/9CA3AF?text=${p.name.charAt(0)}`;
                    const logoHtml = `<div class="flex-shrink-0 h-10 w-10"><img class="h-10 w-10 rounded-md object-contain" src="${p.logo}" alt="${p.name} logo" onerror="this.onerror=null;this.src='${placeholder}';"></div>`;
                    const row = `<tr>
                            <td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center">${logoHtml}<div class="ml-4"><div class="text-sm font-medium text-gray-900">${p.name}</div><div class="text-sm text-gray-500">${p.category}</div></div></div></td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.epu}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.commission}%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${(p.traffic / 1000000).toFixed(1)}M /mo</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.recurring}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.pricing}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.launchYear}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${p.country}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><a href="${p.link}" target="_blank" class="flex items-center justify-center gap-2 w-24 text-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50"><i data-lucide="external-link" class="w-4 h-4"></i><span>Visit</span></a></td>
                        </tr>`;
                    tableBody.innerHTML += row;
                });
                lucide.createIcons();
            }
            
            function filterAndSearch() {
                const searchValue = searchInput.value.toLowerCase();
                const activeCategory = categoryListContainer.querySelector('.active').dataset.category;
                const filters = {
                    commission: parseInt(filterInputs.commission.value) || 0,
                    recurring: filterInputs.recurring.value,
                    traffic: parseInt(filterInputs.traffic.value) || 0,
                    country: filterInputs.country.value
                };

                const filteredPrograms = programsData.filter(p => {
                    const searchMatch = p.name.toLowerCase().includes(searchValue) || p.category.toLowerCase().includes(searchValue);
                    const categoryMatch = activeCategory === 'All' || p.category === activeCategory;
                    const commissionMatch = p.commission >= filters.commission;
                    const trafficMatch = p.traffic >= filters.traffic;
                    const countryMatch = filters.country === 'Any' || p.country === filters.country;
                    const recurringMatch = filters.recurring === 'Any' || p.recurring === filters.recurring;

                    return searchMatch && categoryMatch && commissionMatch && trafficMatch && countryMatch && recurringMatch;
                });
                renderTable(filteredPrograms);
            }

            applyFiltersBtn.addEventListener('click', filterAndSearch);
            searchInput.addEventListener('keyup', filterAndSearch);
            clearFiltersBtn.addEventListener('click', () => {
                searchInput.value = '';
                Object.values(filterInputs).forEach(input => input.selectedIndex = 0);
                const allCategoryLink = categoryListContainer.querySelector('[data-category="All"]');
                if (allCategoryLink) allCategoryLink.click();
                filterAndSearch();
            });

            // --- KHỞI TẠO BAN ĐẦU ---
            renderCategories();
            renderTable(programsData);
            lucide.createIcons();

            // --- LOGIC GIAO DIỆN PHỤ ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            const container = document.getElementById('category-container');
            const scrollLeftBtn = document.getElementById('scroll-left');
            const scrollRightBtn = document.getElementById('scroll-right');
            const checkScrollButtons = () => {
                if (!container) return;
                const maxScrollLeft = container.scrollWidth - container.clientWidth;
                scrollLeftBtn.classList.toggle('opacity-0', container.scrollLeft <= 0);
                scrollLeftBtn.classList.toggle('pointer-events-none', container.scrollLeft <= 0);
                scrollRightBtn.classList.toggle('opacity-0', container.scrollLeft >= maxScrollLeft -1);
                scrollRightBtn.classList.toggle('pointer-events-none', container.scrollLeft >= maxScrollLeft -1);
            };
            scrollLeftBtn.addEventListener('click', () => container.scrollBy({ left: -200, behavior: 'smooth' }));
            scrollRightBtn.addEventListener('click', () => container.scrollBy({ left: 200, behavior: 'smooth' }));
            container.addEventListener('scroll', checkScrollButtons);
            window.addEventListener('resize', checkScrollButtons);
            setTimeout(checkScrollButtons, 100);
        });
    </script>
</body>
</html>
